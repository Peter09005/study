## 중앙처리장치의 정의와 구성

중앙처리장치(CPU)는 사람의 두뇌와 같이 컴퓨터 시스템에 부착된 모든 장치와 동작을 제어하고 명령을 실행한다.
- 중앙처리장치는 제어장치 , 연산장치 , 레지스터로 구분된다.

## 제어장치

제어장치는 컴퓨터에 있는 모든 장치들의 동작을 지시하고 **제어한다
- 제어장치는 명령 제시스터에서 읽어들인 명령어를 해독하여 해당하는 장치에게 제어 신호를 보낸다
- 제어장치는 프로그램 카운터(PC) , 명령어 레지스터 (IR) , 부호기 , 명령어 해독기 , 번지 해독기 등으로 구성되어 있다.
- 명령어의 실행은 Fetch(인출) > Indirect (간접) > Execute(실행) > Interrupt(인터럽트) 단계로 구성된다.

### 한번 더 정리
인출단계에서는 주기억장치(DRAM)으로부터 명령어를 읽어서 해독하는 과정이다. 이때 아마 Program Counter가 쓰일거다 
Program 카운터는 명령어가 어디있는지 알려주는 역할을 하니까

여기서 만약 해석된 명령어의 주소가 간접주소일경우, 예를 들면 페이징되어있는 가상주소공간의 메모리의 실제 물리주소공간 이런경우는 
Indirect를 통해서 한번 더 물리적공간에 접근해 주어야한다.

이제 해석된 명령어를 실행 Execute해주어야한다. 

만약 Interrupt가 발생하면, 복귀주소를 저장시키고 , 제어 순서를(PC) 인터럽트 처리 프로그램의 첫 번째 명령어로 옮긴다. 

++ Interrupt가 발생하면 운영체제에서 제공하는 커널공간에 접근해야한다. 커널에는 trap table이 있고 이를통해서 인터럽트를 해결할수있다.

## 연산장치

연산장치(ALU)는 제어명령에 따라서 실제로 연산을 수행하는 장치이다. 
- 연산장치는 산술연산 논리연산 shift등을 수행할수있다.
- 연산장치는 가산기 , 누산기 , 보수기 , 데이터레지스터 , 상태레지스터 , 시프트레지스터 등으로 구성되어있다.

## 레지스터 

레지스터는 CPU내부에서 처리할 명령어나 연산의 중간 결과값등을 일시적으로 기억하는 임시 기억 장소이다. 
- 이는 메모리중에서 속도가 가장빠르다 (컴퓨터는 작은 공간으로 들어갈수록 빠른 성향이 있는데, 레지스터는 아주 작은 공간이라는 뜻)
- 레지스터에 새로운 값이 들어오게 되면 기존에 있는 내용은 지워지고 새로운 내용이 기억된다.
- 레지스터는 연산속도를 향상시키기 위해 사용된다.

## 레지스터 종류 
- 프로그램 카운터(PC) : 다음번에 실행할 명령어 번지를 기억

- 명령 레지스터 (IR) : 현재 실행중인 명령의 내용을 기억
  
- 누산기(AC) : 연산된 결과를 일시적으로 저장하는 레지스터 , 누산기는 따라서 연산의 중심이된다.
  
- 상태레지스터 , PSWR : 시스템 내부의 순간 순간의 상태가 기록된 정보를 PSW라고 함.
  오버플로 , 언더플로 , 자리올림 , 인터럽트 등의 PSW를 저장하고있는 레지스터

- 플래그 레지스터 : 제어장치와 연산장치의 실행순서를 구분해주기위해 쓰임
  
- 메모리 주소 레지스터 : 기억장치를 출입하는 데이터 번지를 기억
  
- 메모리 버퍼 레지스터 : 기억장치를 출입하는 데이터가 잠시 저장되어있음 (속도의 개선을 위해 cache?)
  
- 인덱스 레지스터 : 반복 연산의 횟수를 세줌
  
- 데이터 레지스터 : 연산에 쓰이는 데이터를 기억함 2 , 3 등
  
- shift register : 기억된 내용을 shift해주는 레지스터


## 마이크로프로세서 

마이크로프로세서는 제어장치 , 연산장치 , 레지스터가 대규모 직접회로 IC(칩)에 내장되어 있는것으로 PC에서 중앙처리 장치로 사용되고 있음

- 마이크로프로세서의 성능은 클럭주파수 , 내부버스의 폭 으로 결정됨

- 마이크로프로세스는 설계방식에 따라 RISC와 CISC로 구분된다

## RISC (서버,워크스테이션)
명령어 종류가 적다 따라서 속도가 빠른편인데, 복잡한 연산을 하려면 많은 명령어의 복잡한 조합이 필요해 레지스터를 많이 요구하고,
프로그램도 복잡하다

## CISC (PC)
명령어 종류가 많아서 전력소비가 심하고 명령어 설계가 어려워 고가이지만 , 레지스터를 적게 사용하므로 프로그램이 간단하다.

## 정리
두 장치에 속도를 맞춰주기위해 사용되는건 버퍼이다. 
